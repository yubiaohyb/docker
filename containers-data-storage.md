了解镜像的构建/存储，以及容器对镜像的使用，有助于我们高效运用存储驱动。由此我们可以在应用存储数据时自主选择最佳方案，避免进入一些误区。
借助容器驱动，我们可以在容器的可写层写入数据，当容器实例被删除时相应数据也不会保留，当然读写的速度相对较慢。
如果需要可以使用--mount挂载外部存储，提升性能。

### 镜像与分层
docker镜像由一系列的分层组成。每个分层代表着镜像的dockfile中的一个指令。除了最后一个封层，每个分层都是只读的。
每个分层相较于之前分层，都只是区别性的一组集合。每个分层都是堆叠起来的。当你创建了一个新的镜像，那也就是在底层镜像的基础之上添加了一个新的可写层。
这层我们通常称之为容器层。所有对运行容器的写操作，都会应用在这个轻量的可写层之上。
而存储驱动则会用来负责各个分层之间的通信。由于存储驱动的可选性丰富，因此不同类型也各有千秋。

### 容器与分层
容器和镜像的主要区别就在于顶部可写层。对容器的所有写操作实际都是在可写层存储数据。当容器被删除，可写层也就跟着被删除了，但是底层的镜像文件依然存在，且不会发生变化。
![](https://docs.docker.com/storage/storagedriver/images/sharing-layers.jpg)
因为每个容器都有自己的可写容器层，所有的改变也都存储在容器层，因此多个容器可以共享相同的底层镜像。
